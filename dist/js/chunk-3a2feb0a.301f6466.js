(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a2feb0a"],{"057f":function(e,t,r){var a=r("fc6a"),o=r("241c").f,n={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return o(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==n.call(e)?i(e):o(a(e))}},"0831":function(e,t,r){"use strict";var a=r("e888"),o=r.n(a);o.a},5319:function(e,t,r){"use strict";var a=r("d784"),o=r("825a"),n=r("7b0b"),s=r("50c4"),i=r("a691"),l=r("1d80"),u=r("8aa5"),c=r("14c3"),p=Math.max,d=Math.min,f=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};a("replace",2,(function(e,t,r,a){var h=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=a.REPLACE_KEEPS_$0,y=h?"$":"$0";return[function(r,a){var o=l(this),n=void 0==r?void 0:r[e];return void 0!==n?n.call(r,o,a):t.call(String(o),r,a)},function(e,a){if(!h&&v||"string"===typeof a&&-1===a.indexOf(y)){var n=r(t,e,this,a);if(n.done)return n.value}var l=o(e),f=String(this),m="function"===typeof a;m||(a=String(a));var b=l.global;if(b){var x=l.unicode;l.lastIndex=0}var k=[];while(1){var F=c(l,f);if(null===F)break;if(k.push(F),!b)break;var O=String(F[0]);""===O&&(l.lastIndex=u(f,s(l.lastIndex),x))}for(var $="",S=0,I=0;I<k.length;I++){F=k[I];for(var _=String(F[0]),q=p(d(i(F.index),f.length),0),P=[],j=1;j<F.length;j++)P.push(g(F[j]));var A=F.groups;if(m){var N=[_].concat(P,q,f);void 0!==A&&N.push(A);var T=String(a.apply(void 0,N))}else T=w(_,f,q,P,A,a);q>=S&&($+=f.slice(S,q)+T,S=q+_.length)}return $+f.slice(S)}];function w(e,r,a,o,s,i){var l=a+e.length,u=o.length,c=b;return void 0!==s&&(s=n(s),c=m),t.call(i,c,(function(t,n){var i;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,a);case"'":return r.slice(l);case"<":i=s[n.slice(1,-1)];break;default:var c=+n;if(0===c)return t;if(c>u){var p=f(c/10);return 0===p?t:p<=u?void 0===o[p-1]?n.charAt(1):o[p-1]+n.charAt(1):t}i=o[c-1]}return void 0===i?"":i}))}}))},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");var a=r("ade3");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"746f":function(e,t,r){var a=r("428f"),o=r("5135"),n=r("e538"),s=r("9bf2").f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});o(t,e)||s(t,e,{value:n.f(e)})}},7561:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[e._v(" 基本信息 "),r("el-button",{staticStyle:{float:"right"},attrs:{type:"info",size:"small"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),r("div",[r("el-form",{ref:"formRef",staticClass:"demo-ruleForm",attrs:{model:e.Form,rules:e.rule,"label-width":"150px"}},[r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"负责人",required:"",prop:"peoId"}},[r("el-select",{attrs:{filterable:"",placeholder:"请输入内容"},model:{value:e.Form.peoId,callback:function(t){e.$set(e.Form,"peoId",t)},expression:"Form.peoId"}},e._l(e.Options,(function(e){return r("el-option",{key:e.id,attrs:{label:e.teaName,value:e.teaId}})})),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"学科门类",required:"",prop:"subjectCategory"}},[r("el-input",{model:{value:e.Form.subjectCategory,callback:function(t){e.$set(e.Form,"subjectCategory",t)},expression:"Form.subjectCategory"}})],1)],1)],1),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"论文题目",required:"",prop:"paperName"}},[r("el-input",{model:{value:e.Form.paperName,callback:function(t){e.$set(e.Form,"paperName",t)},expression:"Form.paperName"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"论文类型",required:"",prop:"paperType"}},[r("el-input",{model:{value:e.Form.paperType,callback:function(t){e.$set(e.Form,"paperType",t)},expression:"Form.paperType"}})],1)],1)],1),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"发表/出版时间",required:"",prop:"paperPublishTime"}},[r("el-input",{model:{value:e.Form.paperPublishTime,callback:function(t){e.$set(e.Form,"paperPublishTime",t)},expression:"Form.paperPublishTime"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"发表刊物/论文集",required:"",prop:"paperPublication"}},[r("el-input",{model:{value:e.Form.paperPublication,callback:function(t){e.$set(e.Form,"paperPublication",t)},expression:"Form.paperPublication"}})],1)],1)],1),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"刊物类型",required:"",prop:"paperPublicationType"}},[r("el-input",{model:{value:e.Form.paperPublicationType,callback:function(t){e.$set(e.Form,"paperPublicationType",t)},expression:"Form.paperPublicationType"}})],1)],1),r("el-col",{attrs:{span:12}},[1==this.istea?r("el-form-item",{attrs:{label:"所属单位",prop:"crBelongDept"}},[r("el-input",{model:{value:e.Form.belongDept,callback:function(t){e.$set(e.Form,"belongDept",t)},expression:"Form.belongDept"}})],1):r("el-form-item",{attrs:{label:"所属学院",prop:"crBelongDept"}},[r("el-input",{model:{value:e.Form.belongDept,callback:function(t){e.$set(e.Form,"belongDept",t)},expression:"Form.belongDept"}})],1)],1)],1),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"一级学科",required:"",prop:"firstlevelDiscipline"}},[r("el-input",{model:{value:e.Form.firstlevelDiscipline,callback:function(t){e.$set(e.Form,"firstlevelDiscipline",t)},expression:"Form.firstlevelDiscipline"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"项目来源",required:"",prop:"projectSource"}},[r("el-input",{model:{value:e.Form.projectSource,callback:function(t){e.$set(e.Form,"projectSource",t)},expression:"Form.projectSource"}})],1)],1)],1),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"发表范围",required:"",prop:"publicationScope"}},[r("el-input",{model:{value:e.Form.publicationScope,callback:function(t){e.$set(e.Form,"publicationScope",t)},expression:"Form.publicationScope"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"卷号",required:"",prop:"volumeNumber"}},[r("el-input",{model:{value:e.Form.volumeNumber,callback:function(t){e.$set(e.Form,"volumeNumber",t)},expression:"Form.volumeNumber"}})],1)],1)],1),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"期号",required:"",prop:"issueNumber"}},[r("el-input",{model:{value:e.Form.issueNumber,callback:function(t){e.$set(e.Form,"issueNumber",t)},expression:"Form.issueNumber"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"页码范围",required:"",prop:"pageRange"}},[r("el-input",{model:{value:e.Form.pageRange,callback:function(t){e.$set(e.Form,"pageRange",t)},expression:"Form.pageRange"}})],1)],1)],1),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"字数（单位：万字）",required:"",prop:"wordCount"}},[r("el-input",{model:{value:e.Form.wordCount,callback:function(t){e.$set(e.Form,"wordCount",t)},expression:"Form.wordCount"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"学校署名",required:"",prop:"schoolSignature"}},[r("el-select",{model:{value:e.Form.schoolSignature,callback:function(t){e.$set(e.Form,"schoolSignature",t)},expression:"Form.schoolSignature"}},[r("el-option",{attrs:{label:"第一单位",value:"第一单位"}}),r("el-option",{attrs:{label:"非第一单位",value:"非第一单位"}})],1)],1)],1)],1),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"版面",required:"",prop:"paperLayout"}},[r("el-select",{model:{value:e.Form.paperLayout,callback:function(t){e.$set(e.Form,"paperLayout",t)},expression:"Form.paperLayout"}},[r("el-option",{attrs:{label:"正刊",value:"正刊"}}),r("el-option",{attrs:{label:"增刊",value:"增刊"}}),r("el-option",{attrs:{label:"年刊",value:"年刊"}}),r("el-option",{attrs:{label:"专利",value:"专利"}})],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否为译文",required:"",prop:"isTranslationPaper"}},[r("el-select",{model:{value:e.Form.isTranslationPaper,callback:function(t){e.$set(e.Form,"isTranslationPaper",t)},expression:"Form.isTranslationPaper"}},[r("el-option",{attrs:{label:"是",value:"是"}}),r("el-option",{attrs:{label:"否",value:"否"}})],1)],1)],1)],1),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"ISSN号",required:"",prop:"issnNumber"}},[r("el-input",{model:{value:e.Form.issnNumber,callback:function(t){e.$set(e.Form,"issnNumber",t)},expression:"Form.issnNumber"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"CN号",required:"",prop:"cnNumber"}},[r("el-input",{model:{value:e.Form.cnNumber,callback:function(t){e.$set(e.Form,"cnNumber",t)},expression:"Form.cnNumber"}})],1)],1)],1),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"关键词",required:"",prop:"paperKeywords"}},[r("el-input",{model:{value:e.Form.paperKeywords,callback:function(t){e.$set(e.Form,"paperKeywords",t)},expression:"Form.paperKeywords"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"摘要",prop:"paperAbstract"}},[r("el-input",{model:{value:e.Form.paperAbstract,callback:function(t){e.$set(e.Form,"paperAbstract",t)},expression:"Form.paperAbstract"}})],1)],1)],1),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"备注",prop:"remarksInfo"}},[r("el-input",{model:{value:e.Form.remarksInfo,callback:function(t){e.$set(e.Form,"remarksInfo",t)},expression:"Form.remarksInfo"}})],1)],1)],1)],1)],1)]),r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[e._v(" 作者信息 "),r("span",[r("el-tooltip",{attrs:{effect:"dark",content:"新增",placement:"right",enterable:!1}},[e.is_authority.is_user_add?r("el-button",{staticClass:"add",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.authAdd}},[e._v("点击增加")]):e._e()],1)],1)]),r("div",[r("el-table",{attrs:{data:e.authForm,border:"",stripe:""}},[r("el-table-column",{attrs:{prop:"authorType",label:"作者类型",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-select",{model:{value:t.row.authorType,callback:function(r){e.$set(t.row,"authorType",r)},expression:"scope.row.authorType"}},[r("el-option",{attrs:{label:"本校老师",value:"本校老师"}}),r("el-option",{attrs:{label:"本校学生",value:"本校学生"}}),r("el-option",{attrs:{label:"外校人员",value:"外校人员"}})],1)]}}])}),r("el-table-column",{attrs:{prop:"authorName",label:"* 作者姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.authorName,callback:function(r){e.$set(t.row,"authorName",r)},expression:"scope.row.authorName"}})]}}])}),r("el-table-column",{attrs:{width:"150",prop:"authorId",label:"作者编号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.authorId,callback:function(r){e.$set(t.row,"authorId",r)},expression:"scope.row.authorId"}})]}}])}),r("el-table-column",{attrs:{width:"80",prop:"authorSex",label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.authorSex,callback:function(r){e.$set(t.row,"authorSex",r)},expression:"scope.row.authorSex"}})]}}])}),r("el-table-column",{attrs:{prop:"authorEducation",label:"学历",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-select",{attrs:{placeholder:"请选择学历"},model:{value:t.row.authorEducation,callback:function(r){e.$set(t.row,"authorEducation",r)},expression:"scope.row.authorEducation"}},[r("el-option",{attrs:{label:"博士研究生",value:"博士研究生"}}),r("el-option",{attrs:{label:"硕士研究生",value:"硕士研究生"}}),r("el-option",{attrs:{label:"本科",value:"本科"}}),r("el-option",{attrs:{label:"专科",value:"专科"}}),r("el-option",{attrs:{label:"高中及其以下",value:"高中及其以下"}}),r("el-option",{attrs:{label:"其他",value:"其他"}})],1)]}}])}),r("el-table-column",{attrs:{width:"100",prop:"signingOrder",label:"* 署名顺序",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:e.authForm[t.$index].signingOrder,callback:function(r){e.$set(e.authForm[t.$index],"signingOrder",r)},expression:"authForm[scope.$index].signingOrder"}})]}}])}),1==this.istea?r("el-table-column",{attrs:{prop:"authorTitle",label:"职称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.authorTitle,callback:function(r){e.$set(t.row,"authorTitle",r)},expression:"scope.row.authorTitle"}})]}}],null,!1,2381796476)}):e._e(),r("el-table-column",{attrs:{prop:"authorWorkUnit",label:"是否通信作者",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-select",{model:{value:t.row.isCorrespondingAuthor,callback:function(r){e.$set(t.row,"isCorrespondingAuthor",r)},expression:"scope.row.isCorrespondingAuthor"}},[r("el-option",{attrs:{label:"是",value:"是"}}),r("el-option",{attrs:{label:"否",value:"否"}})],1)]}}])}),r("el-table-column",{attrs:{prop:"isCorrespondingAuthor",label:"工作单位",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.authorWorkUnit,callback:function(r){e.$set(t.row,"authorWorkUnit",r)},expression:"scope.row.authorWorkUnit"}})]}}])}),r("el-table-column",{attrs:{prop:"contributionRate",label:"贡献率：（ ）单位：%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.contributionRate,callback:function(r){e.$set(t.row,"contributionRate",r)},expression:"scope.row.contributionRate"}})]}}])}),r("el-table-column",{attrs:{label:"操作",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.is_authority.is_user_del?r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top-start",enterable:!1}},[r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(r){return e.delAuthRow(t,e.authForm)}}})],1):e._e()]}}])})],1)],1),r("el-button",{staticClass:"save",attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存 ")])],1),r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[e._v(" 附件信息 "),r("el-upload",{staticClass:"upload-demo",attrs:{"file-list":e.fileList,action:"http://www.dayanhulian.com:8001/matter/fileoss/uploadOssFile",multiple:"",headers:e.config,"on-success":e.saveUrl,"before-upload":e.beforeUpload,accept:".pdf,.doc,.docx"}},[r("el-button",{attrs:{icon:"el-icon-upload2",size:"small",type:"primary"}},[e._v("点击上传")]),r("span",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传pdf/word文件")])],1)],1),this.Id?r("div",[r("el-table",{attrs:{data:e.accessory,border:"",stripe:""}},[r("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{attrs:{href:t.row.url}},[e._v(e._s(t.row.url.substring(83)))])]}}],null,!1,3193398411)}),r("el-table-column",{attrs:{label:"操作",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[".pdf"==t.row.url.slice(-4)?r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"预览",placement:"top",enterable:!1}},[r("a",{attrs:{href:t.row.url}},[r("el-button",{staticClass:"download",attrs:{type:"primary",icon:"el-icon-view",size:"mini"}})],1)]):r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载",placement:"top",enterable:!1}},[r("a",{attrs:{href:t.row.url}},[r("el-button",{staticClass:"download",attrs:{type:"primary",icon:"el-icon-download",size:"mini"}})],1)]),e.is_authority.is_user_del?r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top",enterable:!1}},[r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(r){return e.delAccessory(t,e.accessory)}}})],1):e._e()]}}],null,!1,1745035888)})],1)],1):e._e()])],1)},o=[],n=(r("c975"),r("a434"),r("ac1f"),r("5319"),r("1276"),r("96cf"),r("1da1")),s=r("5530"),i=r("ade3"),l=r("2f62"),u={data:function(){return{is_authority:{is_user_del:!1,is_user_upt:!1,is_user_add:!1,is_user_add_role:!1},rule:Object(i["a"])({peoId:[{required:!0,message:"该项不能为空",trigger:"blur"}],subjectCategory:[{required:!0,message:"该项不能为空",trigger:"blur"}],paperName:[{required:!0,message:"该项不能为空",trigger:"blur"}],paperType:[{required:!0,message:"该项不能为空",trigger:"blur"}],paperPublishTime:[{required:!0,message:"该项不能为空",trigger:"blur"}],paperPublication:[{required:!0,message:"该项不能为空",trigger:"blur"}],paperPublicationType:[{required:!0,message:"该项不能为空",trigger:"blur"}],crBelongDept:[{required:!0,message:"该项不能为空",trigger:"blur"}],firstlevelDiscipline:[{required:!0,message:"该项不能为空",trigger:"blur"}],projectSource:[{required:!0,message:"该项不能为空",trigger:"blur"}],publicationScope:[{required:!0,message:"该项不能为空",trigger:"blur"}],volumeNumber:[{required:!0,message:"该项不能为空",trigger:"blur"}],issueNumber:[{required:!0,message:"该项不能为空",trigger:"blur"}],pageRange:[{required:!0,message:"该项不能为空",trigger:"blur"}],wordCount:[{required:!0,message:"该项不能为空",trigger:"blur"}],schoolSignature:[{required:!0,message:"该项不能为空",trigger:"blur"}],paperLayout:[{required:!0,message:"该项不能为空",trigger:"blur"}],isTranslationPaper:[{required:!0,message:"该项不能为空",trigger:"blur"}],issnNumber:[{required:!0,message:"该项不能为空",trigger:"blur"}],cnNumber:[{required:!0,message:"该项不能为空",trigger:"blur"}],paperKeywords:[{required:!0,message:"该项不能为空",trigger:"blur"}],paperAbstract:[{required:!0,message:"该项不能为空",trigger:"blur"}]},"paperLayout",[{required:!0,message:"该项不能为空",trigger:"blur"}]),fileList:[],accessory:[],Options:[],Form:{},authForm:[],List:[],istea:this.$route.query.istea,token:window.sessionStorage.getItem("token"),Id:this.$route.query.id,newAddId:void 0}},computed:Object(s["a"])(Object(s["a"])({},Object(l["b"])(["btus"])),{},{config:function(){return{Token:this.token}}}),created:function(){this.isAuthority(),this.getDetail(),this.getTreeselect()},methods:{isAuthority:function(){var e=this.btus.split(",");for(var t in this.is_authority)-1!=e.indexOf(t)&&(this.is_authority[t]=!0)},beforeUpload:function(e){if(console.log(e.type),!this.Id&&!this.newAddId)return this.$message.error("请先保存作者信息!"),!1;var t="application/pdf"===e.type||"application/msword"===e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type;return console.log(t),t?void 0:(this.$message.error("请上传 PFD或者WORD 格式!"),t)},saveUrl:function(e,t,r){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.$http.post("/accessoriesList/saveOrUpdateAccessoriesList",{proId:a.Id||a.newAddId,url:e.data.url}),a.getDetail();case 2:case"end":return t.stop()}}),t)})))()},authAdd:function(){this.authForm.splice(this.authForm.length,0,{authorEducation:"",authorId:"",authorName:"",authorSex:"",authorTitle:"",authorType:"",authorWorkUnit:"",contributionRate:"",id:"",isCorrespondingAuthor:"",paperId:this.$route.query.id,signingOrder:""})},delAccessory:function(e,t){var r=this,a=e.row.id.split(",");console.log(a),this.$confirm("确认要删除吗?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.$http.delete("/accessoriesList/removeByIdAccessoriesList/"+a);case 2:r.getDetail();case 3:case"end":return e.stop()}}),e)})))).then((function(){r.$message({showClose:!0,message:"删除成功",type:"success"})}))},delAuthRow:function(e,t){var r=this;if(e.row.id){var a=e.row.id.split(",");console.log(a),this.$confirm("确认要删除吗?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.$http.delete("/paperAuthorInfo/removeByIdPaperAuthorInfos",{data:a});case 2:r.getDetail(),r.Form=[];case 4:case"end":return e.stop()}}),e)})))).then((function(){r.$message({showClose:!0,message:"删除成功",type:"success"})}))}else t.splice(e.$index,1)},getTreeselect:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.istea=e.$route.query.istea,e.$route.query.id,1!=e.istea){t.next=12;break}return t.next=5,e.$http.post("/teaBaseInfo/queryTeaBaseInfoList",{page:{current:1,size:999}});case 5:if(r=t.sent,a=r.data,e.Options=a.data.dataList.records,2e4==a.code){t.next=10;break}return t.abrupt("return",e.$message.error(a.message));case 10:t.next=22;break;case 12:if(0!=e.istea){t.next=22;break}return t.next=15,e.$http.post("/studentInfo/queryStudentInfoList",{page:{current:1,size:999}});case 15:if(o=t.sent,n=o.data,s=n.data.dataList.records,s=JSON.parse(JSON.stringify(s).replace(/stuId/g,"teaId")),e.Options=JSON.parse(JSON.stringify(s).replace(/stuName/g,"teaName")),2e4==n.code){t.next=22;break}return t.abrupt("return",e.$message.error(n.message));case 22:case"end":return t.stop()}}),t)})))()},getDetail:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.Id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.get("/paperInfo/getByIdPaperInfo/"+e.Id);case 4:if(r=t.sent,a=r.data,2e4==a.code){t.next=8;break}return t.abrupt("return",e.$message.error(a.message));case 8:e.Form=a.data.entity,console.log(e.Form),e.getAutherinfo(),e.getAccessory();case 12:case"end":return t.stop()}}),t)})))()},getAccessory:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/accessoriesList/getByIdAccessoriesList/"+e.Form.id);case 2:if(r=t.sent,a=r.data,2e4==a.code){t.next=6;break}return t.abrupt("return",e.$message.error(a.message));case 6:e.accessory=a.data.entity,console.log(e.accessory);case 8:case"end":return t.stop()}}),t)})))()},getAutherinfo:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/paperAuthorInfo/queryPaperAuthorInfoList/"+e.Form.id);case 2:if(r=t.sent,a=r.data,2e4==a.code){t.next=6;break}return t.abrupt("return",e.$message.error(a.message));case 6:e.authForm=a.data.dataList,console.log(e.authForm);case 8:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;1==this.istea?this.Form.isStu=1:0==this.istea&&(this.Form.isStu=0),this.$refs.formRef.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,o,n,s,i,l,u,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=43;break}a=0;case 2:if(!(a<e.authForm.length)){t.next=8;break}if(e.authForm[a].authorName&&e.authForm[a].signingOrder){t.next=5;break}return t.abrupt("return",e.$message.error("请输入作者姓名和作者署名"));case 5:a++,t.next=2;break;case 8:return t.next=10,e.$http.post("/paperInfo/saveOrUpdatePaperInfo",e.Form);case 10:if(e.Id||1!=e.istea){t.next=18;break}return t.next=13,e.$http.post("/paperInfo/queryTeaPaperInfoList",{page:{current:1,size:999}});case 13:o=t.sent,n=o.data,e.newAddId=n.data.dataList.records.pop().id,t.next=24;break;case 18:if(e.Id||0!=e.istea){t.next=24;break}return t.next=21,e.$http.post("/paperInfo/queryStuPaperInfoList",{page:{current:1,size:999}});case 21:s=t.sent,i=s.data,e.newAddId=i.data.dataList.records.pop().id;case 24:l=0;case 25:if(!(l<e.authForm.length)){t.next=34;break}return e.Id||(e.authForm[l].paperId=e.newAddId,e.authForm[l].signingOrder=1),t.next=29,e.$http.post("/paperAuthorInfo/saveOrUpdatePaperAuthorInfo",e.authForm[l]);case 29:u=t.sent,c=u.data;case 31:l++,t.next=25;break;case 34:if(c){t.next=36;break}return t.abrupt("return",e.$message.error("请填写作者信息!"));case 36:if(2e4==c.code){t.next=40;break}return t.abrupt("return",e.$message.error(c.message));case 40:return t.abrupt("return",e.$message.success(c.message));case 43:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},c=u,p=(r("0831"),r("2877")),d=Object(p["a"])(c,a,o,!1,null,"17340a74",null);t["default"]=d.exports},a434:function(e,t,r){"use strict";var a=r("23e7"),o=r("23cb"),n=r("a691"),s=r("50c4"),i=r("7b0b"),l=r("65f0"),u=r("8418"),c=r("1dde"),p=r("ae40"),d=c("splice"),f=p("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,b=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d||!f},{splice:function(e,t){var r,a,c,p,d,f,v=i(this),y=s(v.length),w=o(e,y),x=arguments.length;if(0===x?r=a=0:1===x?(r=0,a=y-w):(r=x-2,a=b(m(n(t),0),y-w)),y+r-a>g)throw TypeError(h);for(c=l(v,a),p=0;p<a;p++)d=w+p,d in v&&u(c,p,v[d]);if(c.length=a,r<a){for(p=w;p<y-a;p++)d=p+a,f=p+r,d in v?v[f]=v[d]:delete v[f];for(p=y;p>y-a+r;p--)delete v[p-1]}else if(r>a)for(p=y-a;p>w;p--)d=p+a-1,f=p+r-1,d in v?v[f]=v[d]:delete v[f];for(p=0;p<r;p++)v[p+w]=arguments[p+2];return v.length=y-a+r,c}})},a4d3:function(e,t,r){"use strict";var a=r("23e7"),o=r("da84"),n=r("d066"),s=r("c430"),i=r("83ab"),l=r("4930"),u=r("fdbf"),c=r("d039"),p=r("5135"),d=r("e8b5"),f=r("861d"),m=r("825a"),b=r("7b0b"),g=r("fc6a"),h=r("c04e"),v=r("5c6c"),y=r("7c73"),w=r("df75"),x=r("241c"),k=r("057f"),F=r("7418"),O=r("06cf"),$=r("9bf2"),S=r("d1e7"),I=r("9112"),_=r("6eeb"),q=r("5692"),P=r("f772"),j=r("d012"),A=r("90e3"),N=r("b622"),T=r("e538"),C=r("746f"),R=r("d44e"),D=r("69f3"),E=r("b727").forEach,L=P("hidden"),U="Symbol",B="prototype",z=N("toPrimitive"),J=D.set,W=D.getterFor(U),K=Object[B],M=o.Symbol,G=n("JSON","stringify"),Q=O.f,X=$.f,H=k.f,V=S.f,Y=q("symbols"),Z=q("op-symbols"),ee=q("string-to-symbol-registry"),te=q("symbol-to-string-registry"),re=q("wks"),ae=o.QObject,oe=!ae||!ae[B]||!ae[B].findChild,ne=i&&c((function(){return 7!=y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,r){var a=Q(K,t);a&&delete K[t],X(e,t,r),a&&e!==K&&X(K,t,a)}:X,se=function(e,t){var r=Y[e]=y(M[B]);return J(r,{type:U,tag:e,description:t}),i||(r.description=t),r},ie=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof M},le=function(e,t,r){e===K&&le(Z,t,r),m(e);var a=h(t,!0);return m(r),p(Y,a)?(r.enumerable?(p(e,L)&&e[L][a]&&(e[L][a]=!1),r=y(r,{enumerable:v(0,!1)})):(p(e,L)||X(e,L,v(1,{})),e[L][a]=!0),ne(e,a,r)):X(e,a,r)},ue=function(e,t){m(e);var r=g(t),a=w(r).concat(me(r));return E(a,(function(t){i&&!pe.call(r,t)||le(e,t,r[t])})),e},ce=function(e,t){return void 0===t?y(e):ue(y(e),t)},pe=function(e){var t=h(e,!0),r=V.call(this,t);return!(this===K&&p(Y,t)&&!p(Z,t))&&(!(r||!p(this,t)||!p(Y,t)||p(this,L)&&this[L][t])||r)},de=function(e,t){var r=g(e),a=h(t,!0);if(r!==K||!p(Y,a)||p(Z,a)){var o=Q(r,a);return!o||!p(Y,a)||p(r,L)&&r[L][a]||(o.enumerable=!0),o}},fe=function(e){var t=H(g(e)),r=[];return E(t,(function(e){p(Y,e)||p(j,e)||r.push(e)})),r},me=function(e){var t=e===K,r=H(t?Z:g(e)),a=[];return E(r,(function(e){!p(Y,e)||t&&!p(K,e)||a.push(Y[e])})),a};if(l||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=A(e),r=function(e){this===K&&r.call(Z,e),p(this,L)&&p(this[L],t)&&(this[L][t]=!1),ne(this,t,v(1,e))};return i&&oe&&ne(K,t,{configurable:!0,set:r}),se(t,e)},_(M[B],"toString",(function(){return W(this).tag})),_(M,"withoutSetter",(function(e){return se(A(e),e)})),S.f=pe,$.f=le,O.f=de,x.f=k.f=fe,F.f=me,T.f=function(e){return se(N(e),e)},i&&(X(M[B],"description",{configurable:!0,get:function(){return W(this).description}}),s||_(K,"propertyIsEnumerable",pe,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:M}),E(w(re),(function(e){C(e)})),a({target:U,stat:!0,forced:!l},{for:function(e){var t=String(e);if(p(ee,t))return ee[t];var r=M(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(p(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),a({target:"Object",stat:!0,forced:!l,sham:!i},{create:ce,defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:de}),a({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:fe,getOwnPropertySymbols:me}),a({target:"Object",stat:!0,forced:c((function(){F.f(1)}))},{getOwnPropertySymbols:function(e){return F.f(b(e))}}),G){var be=!l||c((function(){var e=M();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));a({target:"JSON",stat:!0,forced:be},{stringify:function(e,t,r){var a,o=[e],n=1;while(arguments.length>n)o.push(arguments[n++]);if(a=t,(f(t)||void 0!==e)&&!ie(e))return d(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!ie(t))return t}),o[1]=t,G.apply(null,o)}})}M[B][z]||I(M[B],z,M[B].valueOf),R(M,U),j[L]=!0},b64b:function(e,t,r){var a=r("23e7"),o=r("7b0b"),n=r("df75"),s=r("d039"),i=s((function(){n(1)}));a({target:"Object",stat:!0,forced:i},{keys:function(e){return n(o(e))}})},c975:function(e,t,r){"use strict";var a=r("23e7"),o=r("4d64").indexOf,n=r("a640"),s=r("ae40"),i=[].indexOf,l=!!i&&1/[1].indexOf(1,-0)<0,u=n("indexOf"),c=s("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:l||!u||!c},{indexOf:function(e){return l?i.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(e,t,r){var a=r("23e7"),o=r("83ab"),n=r("56ef"),s=r("fc6a"),i=r("06cf"),l=r("8418");a({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){var t,r,a=s(e),o=i.f,u=n(a),c={},p=0;while(u.length>p)r=o(a,t=u[p++]),void 0!==r&&l(c,t,r);return c}})},e439:function(e,t,r){var a=r("23e7"),o=r("d039"),n=r("fc6a"),s=r("06cf").f,i=r("83ab"),l=o((function(){s(1)})),u=!i||l;a({target:"Object",stat:!0,forced:u,sham:!i},{getOwnPropertyDescriptor:function(e,t){return s(n(e),t)}})},e538:function(e,t,r){var a=r("b622");t.f=a},e888:function(e,t,r){}}]);
//# sourceMappingURL=chunk-3a2feb0a.301f6466.js.map